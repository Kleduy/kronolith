var TimeSpan=function(L,H,E,I,D){var K="days hours minutes seconds milliseconds".split(/\s+/);var C=function(M){return function(){return this[M]}};var J=function(M){return function(N){this[M]=N;return this}};for(var G=0;G<K.length;G++){var B=K[G],A=B.slice(0,1).toUpperCase()+B.slice(1);TimeSpan.prototype[B]=0;TimeSpan.prototype["get"+A]=C(B);TimeSpan.prototype["set"+A]=J(B)}if(arguments.length==4){this.setDays(L);this.setHours(H);this.setMinutes(E);this.setSeconds(I)}else{if(arguments.length==5){this.setDays(L);this.setHours(H);this.setMinutes(E);this.setSeconds(I);this.setMilliseconds(D)}else{if(arguments.length==1&&typeof L=="number"){var F=(L<0)?-1:+1;this.setMilliseconds(Math.abs(L));this.setDays(Math.floor(this.getMilliseconds()/86400000)*F);this.setMilliseconds(this.getMilliseconds()%86400000);this.setHours(Math.floor(this.getMilliseconds()/3600000)*F);this.setMilliseconds(this.getMilliseconds()%3600000);this.setMinutes(Math.floor(this.getMilliseconds()/60000)*F);this.setMilliseconds(this.getMilliseconds()%60000);this.setSeconds(Math.floor(this.getMilliseconds()/1000)*F);this.setMilliseconds(this.getMilliseconds()%1000);this.setMilliseconds(this.getMilliseconds()*F)}}}this.getTotalMilliseconds=function(){return(this.getDays()*86400000)+(this.getHours()*3600000)+(this.getMinutes()*60000)+(this.getSeconds()*1000)};this.compareTo=function(O){var N=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),M;if(O===null){M=new Date(1970,1,1,0,0,0)}else{M=new Date(1970,1,1,O.getHours(),O.getMinutes(),O.getSeconds())}return(N<M)?-1:(N>M)?1:0};this.equals=function(M){return(this.compareTo(M)===0)};this.add=function(M){return(M===null)?this:this.addSeconds(M.getTotalMilliseconds()/1000)};this.subtract=function(M){return(M===null)?this:this.addSeconds(-M.getTotalMilliseconds()/1000)};this.addDays=function(M){return new TimeSpan(this.getTotalMilliseconds()+(M*86400000))};this.addHours=function(M){return new TimeSpan(this.getTotalMilliseconds()+(M*3600000))};this.addMinutes=function(M){return new TimeSpan(this.getTotalMilliseconds()+(M*60000))};this.addSeconds=function(M){return new TimeSpan(this.getTotalMilliseconds()+(M*1000))};this.addMilliseconds=function(M){return new TimeSpan(this.getTotalMilliseconds()+M)};this.get12HourHour=function(){return(this.getHours()>12)?this.getHours()-12:(this.getHours()===0)?12:this.getHours()};this.getDesignator=function(){return(this.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(N){this._toString=function(){if(this.getDays()!==null&&this.getDays()>0){return this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}else{return this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}};this.p=function(O){return(O.toString().length<2)?"0"+O:O};var M=this;return N?N.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(O){switch(O){case"d":return M.getDays();case"dd":return M.p(M.getDays());case"H":return M.getHours();case"HH":return M.p(M.getHours());case"h":return M.get12HourHour();case"hh":return M.p(M.get12HourHour());case"m":return M.getMinutes();case"mm":return M.p(M.getMinutes());case"s":return M.getSeconds();case"ss":return M.p(M.getSeconds());case"t":return((M.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return(M.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(M,F,E,P,N,J,G){var L="years months days hours minutes seconds milliseconds".split(/\s+/);var I=function(T){return function(){return this[T]}};var B=function(T){return function(U){this[T]=U;return this}};for(var O=0;O<L.length;O++){var D=L[O],C=D.slice(0,1).toUpperCase()+D.slice(1);TimePeriod.prototype[D]=0;TimePeriod.prototype["get"+C]=I(D);TimePeriod.prototype["set"+C]=B(D)}if(arguments.length==7){this.years=M;this.months=F;this.setDays(E);this.setHours(P);this.setMinutes(N);this.setSeconds(J);this.setMilliseconds(G)}else{if(arguments.length==2&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var S=M.clone();var R=F.clone();var Q=S.clone();var H=(S>R)?-1:+1;this.years=R.getFullYear()-S.getFullYear();Q.addYears(this.years);if(H==+1){if(Q>R){if(this.years!==0){this.years--}}}else{if(Q<R){if(this.years!==0){this.years++}}}S.addYears(this.years);if(H==+1){while(S<R&&S.clone().addDays(Date.getDaysInMonth(S.getYear(),S.getMonth()))<R){S.addMonths(1);this.months++}}else{while(S>R&&S.clone().addDays(-S.getDaysInMonth())>R){S.addMonths(-1);this.months--}}var K=R-S;if(K!==0){var A=new TimeSpan(K);this.setDays(A.getDays());this.setHours(A.getHours());this.setMinutes(A.getMinutes());this.setSeconds(A.getSeconds());this.setMilliseconds(A.getMilliseconds())}}}return this};